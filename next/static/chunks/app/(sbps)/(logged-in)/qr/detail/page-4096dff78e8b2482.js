(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2648],{6832:function(e,t,n){Promise.resolve().then(n.bind(n,5862))},6648:function(e,t,n){"use strict";n.d(t,{default:function(){return s.a}});var l=n(5601),s=n.n(l)},7449:function(e,t){"use strict";function n(){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5601:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return o},getImageProps:function(){return r}});let l=n(9920),s=n(497),a=n(8173),i=l._(n(1241));function r(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,n]of Object.entries(t))void 0===n&&delete t[e];return{props:t}}let o=a.Image},5862:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var l=n(7437),s=n(506),a=n(6648),i=n(6463);function r(e){let{isOpen:t,togglePopup:n,onLoadingCompleted:s}=e;return(0,i.useRouter)(),(0,l.jsx)(l.Fragment,{children:t&&(0,l.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:(0,l.jsx)("div",{className:"rounded-2xl w-full h-full p-5",children:(0,l.jsxs)("div",{className:"flex justify-center mb-4 rounded-lg w-full h-full relative items-center",children:[(0,l.jsx)("div",{className:"h-full w-full flex items-center absolute top-0 left-0 justify-center z-[-1]",children:(0,l.jsx)(a.default,{src:"/static/sbps/vqmm/vqmm_bg.png",alt:"OTP Error",width:420,height:420,className:"animate-spin",onLoadingComplete:()=>{s()}})}),(0,l.jsx)("div",{className:"flex justify-center items-center h-full w-full",children:(0,l.jsx)(a.default,{src:"/static/sbps/vqmm/vqmm_logo.png",alt:"OTP Error",width:50,height:50})})]})})})})}var o=n(7630),c=n(1265),d=n(4191),u=n(6981),h=n(3874),m=n(7449),f=n.n(m),x=n(2265);let p=["SBPS_0110_WEBAPP","2024_SBPS_NOEVENT","2024_SBPS_HETGIAI"];function g(){let e=(0,i.useSearchParams)().get("code")||"",t=(0,i.useRouter)(),[n,m]=(0,x.useState)(e),[g,j]=(0,x.useState)(),[v,b]=(0,x.useState)(!1),[N,w]=(0,x.useState)(null),[y,C]=(0,x.useState)(!1),[k,_]=(0,x.useState)(!1),[P,S]=(0,x.useState)(!1),E=()=>{b(!v)},[q,M]=(0,x.useState)(!1),T=()=>{if(!k&&n)try{h.ZP.getQrCode({qrCode:n}).then(e=>{if(j(e.response),1e3!==e.meta.status){let t={code:e.meta.error};w(t),E()}_(!1)}).finally(()=>{S(!1)})}catch(e){console.error("\uD83D\uDE80 ~ file: page.tsx ~ line 77 ~ handleGetProductDetail ~ error",e)}},O=(0,d.D)(e=>{t.push("?code="+e)},500),D=!1,Z=()=>{try{if(D||y)return;D=!0;let e=new Date;(0,u.iM)({qrCode:n}),h.ZP.validateProduct({qrCode:n,sku:g.sku,mock:!1}).then(t=>{var l,s,a,i;if(1e3===t.meta.status){if((null==t?void 0:null===(l=t.notification)||void 0===l?void 0:l.code[0])&&p.includes(null==t?void 0:null===(s=t.notification)||void 0===s?void 0:s.code[0])){w(t.notification),E(),(0,u.R2)({qrCode:n,startTime:e,reason:null==t?void 0:null===(a=t.notification)||void 0===a?void 0:a.code[0]});return}(0,u.Le)({qrCode:n,startTime:e}),M(!0),w(t.notification),z()}else w(t.notification),E(),(0,u.R2)({qrCode:n,startTime:e,reason:null==t?void 0:null===(i=t.notification)||void 0===i?void 0:i.code})}).finally(()=>{S(!1)})}catch(e){console.error("\uD83D\uDE80 ~ file: page.tsx ~ line 158 ~ handleVerifyProduct ~ error",e)}finally{}},[B,X]=(0,x.useState)(!1),z=()=>{X(!B)},A=()=>{z()};return(0,x.useEffect)(()=>{console.log("\uD83D\uDE80isLoading",P)},[P]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(f(),{children:[(0,l.jsx)("link",{rel:"preload",href:"/static/sbps/vqmm/vqmm.gif",as:"image"}),(0,l.jsx)("link",{rel:"preload",href:"/static/sbps/gift/mayman.png",as:"image"}),(0,l.jsx)("link",{rel:"preload",href:"/static/sbps/banner/banner_login.png",as:"image"}),(0,l.jsx)("link",{rel:"preload",href:"/static/sbps/banner/banner_main.jpeg",as:"image"})]}),(0,l.jsx)(s.Z,{title:q?"":"Th\xf4ng tin sản phẩm",inputSearch:!1,showPoint:!1,showBack:!0,backUrl:"/qr"}),(0,l.jsxs)("div",{className:"flex flex-col p-2 bg-white min-h-screen text-left",children:[q?(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"flex justify-center mb-4 rounded-lg",children:(0,l.jsx)(a.default,{src:"/static/sbps/banner/otp_error.png",alt:"OTP Error",width:300,height:182,className:"rounded-lg"})}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("p",{className:"text-neutral900 font-semibold text-lg",children:"X\xe1c thực sản phẩm th\xe0nh c\xf4ng"}),(0,l.jsx)("p",{className:"text-neutral900 text-sm mt-2 font-light",children:"Cảm ơn bạn tham gia x\xe1c thực sản phẩm đ\xe3 sử dụng!"})]}),(0,l.jsx)("div",{className:"mt-6 mx-5",children:(0,l.jsx)("button",{onClick:()=>{A()},className:"w-full bg-gradient-button text-white rounded-full text-sm font-bold h-10",children:"TIẾP TỤC"})}),B&&(0,l.jsx)(r,{isOpen:B,togglePopup:z,onLoadingCompleted:()=>{setTimeout(()=>{X(!1),E()},4e3)}})]}):g?(0,l.jsxs)("div",{className:"p-3",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"font-normal text-neutral700 text-sm",children:"T\xean sản phẩm"}),(0,l.jsx)("p",{className:"font-semibold text-neutral text-sm pt-2",children:null==g?void 0:g.name})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"font-normal text-neutral700 pt-2 text-sm",children:"Khối lượng/Dung t\xedch"}),(0,l.jsxs)("p",{className:"font-semibold text-neutral text-sm pt-2",children:[null==g?void 0:g.weigh,null==g?void 0:g.weighType]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"font-normal text-neutral700 pt-2 text-sm",children:"Ng\xe0y sản xuất"}),(0,l.jsx)("p",{className:"font-semibold text-neutral text-sm pt-2",children:null==g?void 0:g.created_at})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"font-normal text-neutral700 pt-2 text-sm",children:"Ng\xe0y hết hạn"}),(0,l.jsx)("p",{className:"font-semibold text-neutral text-sm pt-2",children:null==g?void 0:g.expired_at})]})]}),(0,l.jsx)("div",{className:"border-t border-dashed border-gray-300 mt-5"}),(0,l.jsx)("div",{className:"flex",children:(0,l.jsxs)("p",{className:"font-medium text-neutral text-xs pt-2 text-center ml-12 mr-12",children:["Sau khi x\xe1c nhận th\xf4ng tin sản phẩm, h\xe3y nhấn ",(0,l.jsx)("span",{className:"font-bold text-primary500",children:"X\xc1C THỰC"})," để tiến h\xe0nh đổi muỗng."]})}),(0,l.jsx)("div",{className:"mt-3 mx-5",children:(0,l.jsx)("button",{onClick:()=>{C(!0),S(!0),Z()},className:"w-full bg-gradient-button text-white rounded-full font-bold text-sm h-10",disabled:y,children:"X\xc1C THỰC"})})]}):(0,l.jsxs)("div",{className:"p-3",children:[(0,l.jsxs)("h2",{className:"font-medium text-neutral900",children:["Th\xf4ng tin ",(0,l.jsx)("span",{className:"font-semibold",children:"'M\xe3 dự thưởng'"})]}),(0,l.jsxs)("p",{className:"font-normal text-neutral700 text-sm pt-2",children:[(0,l.jsx)("span",{className:"font-semibold text-neutral500",children:"'M\xe3 dự thưởng'"})," c\xf3 thể t\xecm thấy trong thẻ c\xe0o b\xean cạnh"," ",(0,l.jsx)("span",{className:"font-semibold text-neutral500",children:"'M\xe3 QR dự thưởng'"})]}),(0,l.jsx)("input",{className:"font-normal text-neutral500 pt-5 pb-5 w-full border-none focus:border-none focus:outline-none focus:text-black",placeholder:"ABXXXXXXX",value:n,onChange:e=>{let t=e.target.value;m(t),O(t)}}),(0,l.jsx)("div",{className:"border-1 border-dashed w-full border-t border-neutral900 pb-4"}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsxs)("p",{className:"font-normal text-neutral700 text-xs",children:["Đối với c\xe1c sản phẩm c\xf3 thẻ c\xe0o chứa ",(0,l.jsx)("span",{className:"font-semibold text-neutral700",children:"‘M\xe3 thẻ c\xe0o t\xedch điểm’"})," bạn sẽ c\xf3 cơ hội t\xedch xu để đổi qu\xe0 v\xe0 01 lượt tham gia Chương tr\xecnh V\xf2ng quay may mắn."]}),(0,l.jsxs)("p",{className:"font-normal text-neutral700 text-xs pt-1",children:["Đối với c\xe1c sản phẩm c\xf3 thẻ c\xe0o chứa ",(0,l.jsx)("span",{className:"font-semibold text-neutral700",children:"‘M\xe3 dự thưởng’"})," bạn sẽ c\xf3 ngay 01 lượt tham gia Chương tr\xecnh V\xf2ng quay may mắn."]}),(0,l.jsxs)("p",{className:"font-normal text-neutral700 text-xs pt-1",children:["Thời gian diễn ra chương tr\xecnh: ",(0,l.jsx)("span",{className:"font-semibold text-neutral700",children:"01/11/2024 – 28/02/2025 "})]})]}),(0,l.jsx)("div",{className:"mt-10 mx-5",children:(0,l.jsx)("button",{onClick:()=>{_(!0),S(!0),T()},className:"w-full bg-gradient-button text-white rounded-full font-bold text-sm h-10",disabled:k||!n.length,children:"KIỂM TRA TH\xd4NG TIN"})})]}),v&&(0,l.jsx)(o.Z,{isOpen:v,togglePopup:E,code:(null==N?void 0:N.code)||""})]}),P&&(0,l.jsx)(c.Z,{})]})}},4088:function(e,t,n){"use strict";n.d(t,{P:function(){return s}});var l=n(7437);let s={spinner:e=>(0,l.jsx)("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"none",...e,width:"16",height:"16",children:(0,l.jsxs)("g",{fill:"#00acd6","fill-rule":"evenodd","clip-rule":"evenodd",children:[(0,l.jsx)("path",{d:"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8z",fill:"white"}),(0,l.jsx)("path",{d:"M7.25.75A.75.75 0 018 0a8 8 0 018 8 .75.75 0 01-1.5 0A6.5 6.5 0 008 1.5a.75.75 0 01-.75-.75z"})]})}),pin:e=>(0,l.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,l.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.5 8.49478C8.604 8.49478 9.5 7.59934 9.5 6.49606C9.5 5.39278 8.604 4.49738 7.5 4.49738C6.396 4.49738 5.5 5.39278 5.5 6.49606C5.5 7.59934 6.396 8.49478 7.5 8.49478Z",stroke:"#000000","stroke-linecap":"square"}),(0,l.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.5 6.49606C13.5 11.4928 8.5 14.4909 7.5 14.4909C6.5 14.4909 1.5 11.4928 1.5 6.49606C1.5 3.18522 4.187 0.5 7.5 0.5C10.813 0.5 13.5 3.18522 13.5 6.49606Z",stroke:"#000000","stroke-linecap":"square"})]})}},1265:function(e,t,n){"use strict";var l=n(7437),s=n(4088);t.Z=()=>(0,l.jsxs)("div",{className:"fixed top-0 left-0 z-10 w-screen h-screen flex justify-center items-center",children:[(0,l.jsx)("div",{className:"w-full h-full bg-black opacity-40 absolute top-0 left-0"}),(0,l.jsx)(s.P.spinner,{className:"h-16 w-16 animate-spin"})]})},6514:function(e,t,n){"use strict";var l=n(2265);let s=l.forwardRef(function(e,t){let{title:n,titleId:s,...a}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?l.createElement("title",{id:s},n):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))});t.Z=s},4380:function(e,t,n){"use strict";var l=n(2265);let s=l.forwardRef(function(e,t){let{title:n,titleId:s,...a}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?l.createElement("title",{id:s},n):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))});t.Z=s}},function(e){e.O(0,[8173,8461,4498,4343,2971,7023,1744],function(){return e(e.s=6832)}),_N_E=e.O()}]);