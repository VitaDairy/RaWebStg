(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[633],{5741:function(e,t,n){Promise.resolve().then(n.bind(n,6340))},6648:function(e,t,n){"use strict";n.d(t,{default:function(){return s.a}});var r=n(5601),s=n.n(r)},5601:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return d},getImageProps:function(){return i}});let r=n(9920),s=n(497),l=n(8173),a=r._(n(1241));function i(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:a.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,n]of Object.entries(t))void 0===n&&delete t[e];return{props:t}}let d=l.Image},6340:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(7437),s=n(506),l=n(1265),a=n(6981),i=n(3056),d=n(3874),o=n(5888),c=n(3934),u=n(8906),m=n(6463),h=n(2265);function x(){(0,m.useRouter)();let{user:e,actionGetProvinces:t,actionReloadDataUser:n}=(0,i.Z)(),c=new Date,[u,x]=(0,h.useState)(null),[f,b]=(0,h.useState)(""),[v,j]=(0,h.useState)(""),[w,N]=(0,h.useState)(!0),[g,k]=(0,h.useState)({}),[I,y]=(0,h.useState)(!1),[C,Z]=(0,h.useState)({name:(null==e?void 0:e.firstName)||(null==e?void 0:e.name)||"",phoneNumber:(null==e?void 0:e.phoneNumber)||(null==e?void 0:e.phoneNumber)||"",provinceId:0,districtId:0,wardId:0,address:""});return(0,h.useEffect)(()=>{t().then(e=>{x((null==e?void 0:e.provinces)||null),Z(t=>{var n;return{...t,provinceId:null==e?void 0:null===(n=e.provinces[0])||void 0===n?void 0:n.id}})})},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Z,{title:"Th\xeam địa chỉ",inputSearch:!1,showPoint:!1,showBack:!0}),(0,r.jsx)("div",{className:"flex flex-col pt-2 text-center"}),(0,r.jsx)(p,{defaultValue:e,handleChange:e=>{let{name:t,value:n,type:r,checked:s}=e.target;"name"===t&&""===n?k(e=>({...e,name:!0})):k(e=>({...e,name:!1})),"phoneNumber"!==t||""!==n&&(0,o.e)(n)?k(e=>({...e,phoneNumber:!1})):k(e=>({...e,phoneNumber:!0})),"address"===t&&""===n?k(e=>({...e,address:!0})):k(e=>({...e,address:!1})),"provinceId"===t&&(0===(n=Number(n))?k(e=>({...e,provinceId:!0})):k(e=>({...e,provinceId:!1})),d.ZP.getWardsAndDistricts({code:Number(n)}).then(e=>{var t;b((null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.provinces)||null)})),"districtId"===t&&(0===(n=Number(n))?k(e=>({...e,districtId:!0})):k(e=>({...e,districtId:!1})),d.ZP.getWardsAndDistricts({code:Number(n)}).then(e=>{var t;j((null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.provinces)||null)})),"wardId"===t&&(0===(n=Number(n))?k(e=>({...e,wardId:!0})):k(e=>({...e,wardId:!1}))),Z(e=>({...e,[t]:"checkbox"===r?s:n})),N(!(""!==C.address&&0!==C.provinceId&&0!==C.districtId&&0!==C.wardId))},district:f,formData:C,handleSubmit:e=>{y(!0),d.ZP.updateProfile(C).then(async e=>{var t,r;(null==e?void 0:null===(t=e.meta)||void 0===t?void 0:t.status)===1e3?(await n(),(0,a.QO)({startTime:c,address:C.address,phone:C.phoneNumber,provinceId:C.provinceId,districtId:C.districtId,wardId:C.wardId}),(0,a.lb)({address:C.address,phone:C.phoneNumber,provinceId:C.provinceId,districtId:C.districtId,wardId:C.wardId,startTime:c}),window.location.href="/home"):(0,a.Ux)({startTime:c,address:C.address,phone:C.phoneNumber,provinceId:C.provinceId,districtId:C.districtId,wardId:C.wardId,reason:null==e?void 0:null===(r=e.meta)||void 0===r?void 0:r.error})}).finally(()=>{y(!1)})},provinces:u,ward:v,isDisableButton:w,errors:g},"123"),I&&(0,r.jsx)(l.Z,{})]})}let p=e=>{let{defaultValue:t,handleChange:n,formData:s,provinces:l,district:a,ward:i,handleSubmit:d,isDisableButton:o,errors:m}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"mt-15 w-full bg-white",children:[(0,r.jsxs)("div",{className:"pl-5 pr-5 bg-white",children:[(0,r.jsx)("label",{className:"block mb-2 text-sm font-medium text-neutral900 dark:text-neutral900 text-xs",children:"Nhập th\xf4ng tin địa chỉ:"}),(0,r.jsx)("label",{className:"block mb-2 text-sm font-normal text-neutral700 dark:text-neutral700 text-xs",children:"Vui l\xf2ng kiểm tra c\xe1c th\xf4ng tin ch\xednh x\xe1c trước khi bấm Lưu địa chỉ:"})]}),(0,r.jsx)("div",{className:"h-5 bg-surface02"}),(0,r.jsxs)("div",{className:"p-5",children:[(0,r.jsxs)("div",{className:"",children:[(0,r.jsxs)("label",{className:"block mb-2 font-medium text-neutral500 dark:text-neutral500 text-sm",children:["T\xean người nhận ",(0,r.jsx)("span",{className:"text-error500",children:"*"})]}),(0,r.jsx)("input",{type:"text",name:"name",className:"border-0 border-b focus:outline-none border-inputGrey w-full text-neutral font-normal pb-2",placeholder:"",onChange:n,defaultValue:null==t?void 0:t.name,value:t.name||s.name,disabled:null!=t&&!!t.name})]}),m.name&&(0,r.jsxs)("div",{className:"flex items-center text-error500 text-center mt-2",children:[(0,r.jsx)(c.Z,{className:"h-4 w-4"}),(0,r.jsx)("p",{className:"text-10 ml-1",children:"Vui l\xf2ng nhập t\xean người nhận"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block mb-2 mt-5 font-medium text-neutral500 dark:text-neutral500 text-sm",children:["Số điện thoại ",(0,r.jsx)("span",{className:"text-error500",children:"*"})]}),(0,r.jsx)("input",{type:"tel",name:"phoneNumber",value:s.password,onChange:n,className:"border-0 border-b focus:outline-none border-inputGrey w-full text-neutral pb-2",placeholder:"",defaultValue:null==t?void 0:t.phoneNumber,disabled:null!=t&&!!t.phoneNumber})]}),m.phoneNumber&&(0,r.jsxs)("div",{className:"flex items-center text-error500 text-center mt-2",children:[(0,r.jsx)(c.Z,{className:"h-4 w-4"}),(0,r.jsx)("p",{className:"text-10 ml-1",children:"Vui l\xf2ng điền th\xf4ng tin điện thoại hợp lệ"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block mb-2 mt-5 font-medium text-neutral500 dark:text-neutral500 text-sm",children:["Tỉnh/Th\xe0nh phố ",(0,r.jsx)("span",{className:"text-error500",children:"*"})]}),(0,r.jsxs)("div",{className:"flex items-center relative",children:[(0,r.jsxs)("select",{name:"provinceId",value:s.provinceId,onChange:n,className:"appearance-none border-0 border-b focus:outline-none border-inputGrey w-full text-neutral font-normal pb-2",required:!0,children:[(0,r.jsx)("option",{value:"0",children:"Chọn tỉnh/th\xe0nh phố"}),l&&(null==l?void 0:l.filter(e=>e.id<100).map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},"province-".concat(e.id))))]}),(0,r.jsx)(u.Z,{className:"h-7 w-7 text-neutral700 absolute inset-y-2 right-0 pr-3 flex items-center text-lg leading-5 cursor-pointer"})]})]}),m.provinceId&&(0,r.jsxs)("div",{className:"flex items-center text-error500 text-center mt-2",children:[(0,r.jsx)(c.Z,{className:"h-4 w-4"}),(0,r.jsx)("p",{className:"text-10 ml-1",children:"Vui l\xf2ng chọn Tỉnh/Th\xe0nh phố"})]}),(0,r.jsxs)("div",{className:"",children:[(0,r.jsxs)("div",{className:"",children:[(0,r.jsxs)("label",{className:"block mb-2 mt-5 font-medium text-neutral500 dark:text-neutral500 text-sm",children:["Quận/Huyện ",(0,r.jsx)("span",{className:"text-error500",children:"*"})]}),(0,r.jsxs)("div",{className:" flex items-center relative",children:[(0,r.jsxs)("select",{name:"districtId",value:s.districtId,onChange:n,className:"border-0 border-b focus:outline-none border-inputGrey w-full text-neutral font-normal pb-2",required:!0,children:[(0,r.jsx)("option",{value:"0",className:"text-neutral500 text-sm",disabled:!0,children:"Chọn Quận/huyện"}),a&&(null==a?void 0:a.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},"district-".concat(e.id))))]}),(0,r.jsx)(u.Z,{className:"h-7 w-7 text-neutral700 absolute inset-y-2 right-0 pr-3 flex items-center text-lg leading-5 cursor-pointer"})]})]}),m.districtId&&(0,r.jsxs)("div",{className:"flex items-center text-error500 text-center mt-2",children:[(0,r.jsx)(c.Z,{className:"h-4 w-4"}),(0,r.jsx)("p",{className:"text-10 ml-1",children:"Vui l\xf2ng chọn Quận/Huyện"})]})]}),(0,r.jsxs)("div",{className:"",children:[(0,r.jsxs)("label",{className:"block mb-2 mt-5 font-medium text-neutral500 dark:text-neutral500 text-sm",children:["Phường/X\xe3 ",(0,r.jsx)("span",{className:"text-error500",children:"*"})]}),(0,r.jsxs)("div",{className:" flex items-center relative",children:[(0,r.jsxs)("select",{name:"wardId",value:s.wardId,onChange:n,className:"border-0 border-b focus:outline-none border-inputGrey w-full text-neutral font-normal pb-2",required:!0,children:[(0,r.jsx)("option",{value:"0",disabled:!0,children:"Chọn X\xe3/Phường"}),i&&(null==i?void 0:i.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},"ward-".concat(e.id))))]}),(0,r.jsx)(u.Z,{className:"h-7 w-7 text-neutral700 absolute inset-y-2 right-0 pr-3 flex items-center text-lg leading-5 cursor-pointer"})]})]}),m.wardId&&(0,r.jsxs)("div",{className:"flex items-center text-error500 text-center mt-2",children:[(0,r.jsx)(c.Z,{className:"h-4 w-4"}),(0,r.jsx)("p",{className:"text-10 ml-1",children:"Vui l\xf2ng chọn Phường/X\xe3"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block mb-2 mt-5 font-medium text-neutral500 dark:text-neutral500 text-sm",children:["Địa chỉ cụ thể ",(0,r.jsx)("span",{className:"text-error500",children:"*"})]}),(0,r.jsx)("input",{name:"address",type:"text",value:s.address,className:"border-0 border-b focus:outline-none border-inputGrey w-full text-neutral pb-2",placeholder:"Số nh\xe0, đường, ấp, th\xf4n",onChange:n})]}),m.address&&(0,r.jsxs)("div",{className:"flex items-center text-error500 text-center mt-2",children:[(0,r.jsx)(c.Z,{className:"h-4 w-4"}),(0,r.jsx)("p",{className:"text-10 ml-1",children:"Vui l\xf2ng nhập địa chỉ"})]}),(0,r.jsx)("button",{className:" ".concat(o?"bg-disabled opacity-50 cursor-not-allowed":"bg-gradient-button opacity-100"," font-bold py-2 px-4 rounded-full transition duration-300 min-w-full mt-5 bottom-0 left-0 text-white"),disabled:o,onClick:()=>{d()},children:"HO\xc0N TẤT"})]})]})})}},506:function(e,t,n){"use strict";var r=n(7437),s=n(6514),l=n(4380),a=n(6648),i=n(6463);t.Z=e=>{let{title:t,inputSearch:n=!0,showPoint:d=!0,showBack:o=!1,backUrl:c="",onClickBackURl:u=null,showInputVoucher:m=!1,onClickShowInputVoucher:h}=e,x=(0,i.useRouter)(),p=(0,i.usePathname)();return(0,r.jsxs)("header",{className:"".concat(p.startsWith("/noti")?"bg-[#2CB6A3]":"bg-gradient-button","  p-4 sticky top-0 left-0 z-10"),children:[(0,r.jsx)("div",{className:"flex justify-between items-center"}),(0,r.jsxs)("div",{className:"text-center mt-4 flex justify-between ",children:[(0,r.jsxs)("h1",{className:"text-white text-[18px] font-semibold pt-1 flex items-center",children:[o&&(0,r.jsx)(s.Z,{className:"w-6 h-6 text-white mt-1 mr-2 cursor-pointer",strokeWidth:2,onClick:()=>{if(u){u();return}if(c){x.push(c);return}x.back()}}),t]}),d&&(0,r.jsxs)("div",{className:"absolute right-4 bg-white rounded-full px-2 py-1 flex items-center shadow-lg  border border-accent01 border-2",children:[(0,r.jsx)("span",{className:"text-black text-sm font-semibold mr-1",children:"24"}),(0,r.jsx)(a.default,{src:"/static/icons/menu.svg",alt:"Notification",width:24,height:24})]}),m&&(0,r.jsx)("div",{className:"absolute right-4 px-2 py-1 flex items-center ",children:(0,r.jsx)("button",{onClick:()=>{h&&h(),x.push("/qr/detail")},children:(0,r.jsx)(a.default,{src:"/static/sbps/icons/input_voucher.svg",alt:"Notification",width:24,height:24})})})]}),n&&(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsxs)("div",{className:"flex items-center bg-white rounded-full p-2 shadow",children:[(0,r.jsx)(l.Z,{className:"w-6 h-6 text-blue-500 ml-2"}),(0,r.jsx)("input",{type:"text",placeholder:"Qu\xe0 hot h\xf4m nay",className:"ml-2 w-full border-none outline-none placeholder-neutral500 font-normal font-sm text-neutral900",style:{fontWeight:400}})]})})]})}},4088:function(e,t,n){"use strict";n.d(t,{P:function(){return s}});var r=n(7437);let s={spinner:e=>(0,r.jsx)("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"none",...e,width:"16",height:"16",children:(0,r.jsxs)("g",{fill:"#00acd6","fill-rule":"evenodd","clip-rule":"evenodd",children:[(0,r.jsx)("path",{d:"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8z",fill:"white"}),(0,r.jsx)("path",{d:"M7.25.75A.75.75 0 018 0a8 8 0 018 8 .75.75 0 01-1.5 0A6.5 6.5 0 008 1.5a.75.75 0 01-.75-.75z"})]})}),pin:e=>(0,r.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,r.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.5 8.49478C8.604 8.49478 9.5 7.59934 9.5 6.49606C9.5 5.39278 8.604 4.49738 7.5 4.49738C6.396 4.49738 5.5 5.39278 5.5 6.49606C5.5 7.59934 6.396 8.49478 7.5 8.49478Z",stroke:"#000000","stroke-linecap":"square"}),(0,r.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.5 6.49606C13.5 11.4928 8.5 14.4909 7.5 14.4909C6.5 14.4909 1.5 11.4928 1.5 6.49606C1.5 3.18522 4.187 0.5 7.5 0.5C10.813 0.5 13.5 3.18522 13.5 6.49606Z",stroke:"#000000","stroke-linecap":"square"})]})}},1265:function(e,t,n){"use strict";var r=n(7437),s=n(4088);t.Z=()=>(0,r.jsxs)("div",{className:"fixed top-0 left-0 z-10 w-screen h-screen flex justify-center items-center",children:[(0,r.jsx)("div",{className:"w-full h-full bg-black opacity-40 absolute top-0 left-0"}),(0,r.jsx)(s.P.spinner,{className:"h-16 w-16 animate-spin"})]})},5888:function(e,t,n){"use strict";function r(e){return/^(0|\+84)(3|5|7|8|9)\d{8}$/.test(e)}n.d(t,{e:function(){return r}})},6514:function(e,t,n){"use strict";var r=n(2265);let s=r.forwardRef(function(e,t){let{title:n,titleId:s,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))});t.Z=s},8906:function(e,t,n){"use strict";var r=n(2265);let s=r.forwardRef(function(e,t){let{title:n,titleId:s,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))});t.Z=s},3934:function(e,t,n){"use strict";var r=n(2265);let s=r.forwardRef(function(e,t){let{title:n,titleId:s,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))});t.Z=s},4380:function(e,t,n){"use strict";var r=n(2265);let s=r.forwardRef(function(e,t){let{title:n,titleId:s,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),n?r.createElement("title",{id:s},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))});t.Z=s}},function(e){e.O(0,[8173,8461,4498,2971,7023,1744],function(){return e(e.s=5741)}),_N_E=e.O()}]);